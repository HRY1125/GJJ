<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zlk.gjj.registerAndAccount.unitlogin.mapper.UnitMapper">
    <resultMap id="unitEntityMap" type="com.zlk.gjj.registerAndAccount.entity.Unit">
        <id property="unitId" column="unit_id" javaType="java.lang.String"/>
        <result property="agentName" column="agent_name" javaType="java.lang.String"/>
        <result property="papersName" column="papers_name" javaType="java.lang.String"/>
        <result property="papersNum" column="papers_num" javaType="java.lang.String"/>
        <result property="unitName" column="unit_name" javaType="java.lang.String"/>
        <result property="agentPhone" column="agent_phone" javaType="java.lang.String"/>
        <result property="unitEmail" column="unit_email" javaType="java.lang.String"/>
        <result property="password" column="password" javaType="java.lang.String"/>
        <result property="status" column="status" javaType="java.lang.String"/>
        <result property="errorTimes" column="error_times" javaType="java.lang.Integer"/>
    </resultMap>
    <select id="findByUnitId" parameterType="com.zlk.gjj.registerAndAccount.entity.Unit" resultMap="unitEntityMap">
        select unit_id,agent_name,papers_name,papers_num,unit_name,agent_phone,unit_email,password,status,error_times
        from unit where unit_id = #{unitId}
    </select>
    <insert id="insertUnit" parameterType="com.zlk.gjj.registerAndAccount.entity.Unit">
        insert into unit
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="unitId != null and unitId!=''">
                unit_id,
            </if>
            <if test="agentName != null and agentName!=''">
                agent_name,
            </if>
            <if test="papersName != null and papersName!=''">
                papers_name,
            </if>
            <if test="papersNum != null and papersNum!=''">
                papers_num,
            </if>
            <if test="unitName != null and unitName!=''">
                unit_name,
            </if>
            <if test="agentPhone != null and agentPhone!=''">
                agent_phone,
            </if>
            <if test="unitEmail != null and unitEmail!=''">
                unit_email,
            </if>
            <if test="password != null and password!=''">
                password,
            </if>
            <if test="status != null and status!=''">
                status,
            </if>
            <if test="errorTimes != null">
                error_times,
            </if>
        </trim>
        values
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="unitId != null and unitId!=''">
                #{unitId},
            </if>
            <if test="agentName != null and agentName!=''">
                #{agentName},
            </if>
            <if test="papersName != null and papersName!=''">
                #{papersName},
            </if>
            <if test="papersNum != null and papersNum!=''">
                #{papersNum},
            </if>
            <if test="unitName != null and unitName!=''">
                #{unitName},
            </if>
            <if test="agentPhone != null and agentPhone!=''">
                #{agentPhone},
            </if>
            <if test="unitEmail != null and unitEmail!=''">
                #{unitEmail},
            </if>
            <if test="password != null and password!=''">
                #{password},
            </if>
            <if test="status != null and status!=''">
                #{status},
            </if>
            <if test="errorTimes != null">
                #{errorTimes},
            </if>
        </trim>
    </insert>
    <select id="findAllUnitId" resultType="java.lang.String">
        select unit_id from unit
    </select>
    <select id="findUnitByPapersNum" parameterType="java.lang.String" resultMap="unitEntityMap">
        select unit_id,agent_name,papers_name,papers_num,unit_name,agent_phone,unit_email,password,status,error_times
        from unit where papers_num = #{papersNum}
    </select>
    <update id="updateUnitByUnitId" parameterType="com.zlk.gjj.registerAndAccount.entity.Unit">
        update unit
        <set>
            <if test="unitId != null and unitId!=''">
                unit_id = #{unitId},
            </if>
            <if test="agentName != null and agentName!=''">
                agent_name = #{agentName},
            </if>
            <if test="papersName != null and papersName!=''">
                papers_name = #{papersName},
            </if>
            <if test="papersNum != null and papersNum!=''">
                papers_num = #{papersNum},
            </if>
            <if test="unitName != null and unitName!=''">
                unit_name = #{unitName},
            </if>
            <if test="agentPhone != null and agentPhone!=''">
                agent_phone = #{agentPhone},
            </if>
            <if test="unitEmail != null and unitEmail!=''">
                unit_email = #{unitEmail},
            </if>
            <if test="password != null and password!=''">
                password = #{password},
            </if>
            <if test="status != null and status!=''">
                status = #{status},
            </if>
            <if test="errorTimes != null">
                error_times = #{errorTimes},
            </if>
        </set>
        where unit_id = #{unitId}
    </update>
    <select id="findUnitIdByUnitName" parameterType="java.lang.String" resultType="java.lang.String">
        select unit_id from unit where unit_name = #{unitName}
    </select>
</mapper>